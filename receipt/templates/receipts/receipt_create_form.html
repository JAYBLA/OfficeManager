{% load widget_tweaks %}
{% block stylesheet %}
{% endblock stylesheet %}

<form method="post" class="receipt-create-form" action="{% url 'receipt:create-receipt' %}">
  {% csrf_token %}
  <div class="modal-header">
    <h4 class="modal-title">Create Receipt</h4>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    
  </div>
  <div class="modal-body">        
        <div class="form-group{% if field.errors %} has-error{% endif %}">
            <label >Customer</label> <br>
            {% render_field form.customer id="customer-select" class="searchable-select" style="width:100%;" %}         
            {% for error in field.errors %}
                <p class="help-block">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group{% if field.errors %} has-error{% endif %}">
            <label >Date</label>
            {% render_field form.date class="form-control" type="date" %}        
            {% for error in field.errors %}
                <p class="help-block">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group{% if field.errors %} has-error{% endif %}">
            <label >Description</label>
            {% render_field form.description class="form-control" rows="4" type="text" %}        
            {% for error in field.errors %}
                <p class="help-block">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group{% if field.errors %} has-error{% endif %}">
            <label >Amount</label>
            {% render_field form.amount class="form-control" type="decimal" %}        
            {% for error in field.errors %}
                <p class="help-block">{{ error }}</p>
            {% endfor %}
        </div>
        <div class="form-group{% if field.errors %} has-error{% endif %}">
            <label >Payment Means</label>
            {% render_field form.status class="form-control" %}        
            {% for error in field.errors %}
                <p class="help-block">{{ error }}</p>
            {% endfor %}
        </div>  
  </div>
  <div class="modal-footer">    
    <button type="submit" class="btn btn-primary">Create Receipt</button>
  </div>
</form>
{% block javascript %}
<script>
    const element = document.querySelector('.searchable-select');
    const choices = new Choices(element, {
    searchEnabled: true,
    });
</script>
{% endblock javascript %}
